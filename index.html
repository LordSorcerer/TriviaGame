<!DOCTYPE html>
<html>

<head>
    <title>Trivia Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css">
    <!-- <link rel="stylesheet" type="text/css" href="./assets/css/style.css"> -->
    <link href="https://fonts.googleapis.com/css?family=Milonga" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style type="text/css">
    body {
        background-color: gray;
        text-align: center;
    }
    
    .wrapper {
        width: 960px;
        margin: 0 auto;
        background-color: darkblue;
    }
    
    .display {
        font-family: Milonga;
        font-size: 20px;
        color: white;
        background-color: blue;
        text-align: center;
        margin: 0px 0px 30px 0px;
        border: lightblue 3px dotted;
        padding: 10px;
    }
    
    h1 {
        color: yellow;
    }
    
    .respBtn {
        width: 25%;
    }
    
    .resp {
        width: 25%;
        float: left;
        margin: auto;
    }
    
    #displayQuestion {
        height: 150px;
    }
    
    #displayTimer {}
    
    #displayResponses {
        height: 60px;
        clear: both;
    }
    
    #displayGraphic {
        width: 25%;
        display: block;
        margin: 25px auto;
    }
    </style>
</head>

<body>
    <main class="wrapper">
        <header>
            <h1>.-[Riddlemaster's Challenge]-.</h1></header>
        <section id="displayTimer" class="display">Time Remaining -> 15</section>
        <section id="displayQuestion" class="display">Question</section>
        <section id="displayResponses" class="display">
            <div class=resp>
                <button id="respA" class="btn btn-primary respBtn" value="A">A.</button>
            </div>
            <div class=resp>
                <button id="respB" class="btn btn-primary respBtn" value="B">B.</button>
            </div>
            <div class=resp>
                <button id="respC" class="btn btn-primary respBtn" value="C">C.</button>
            </div>
            <div class=resp>
                <button id="respD" class="btn btn-primary respBtn" value="D">D.</button>
            </div>
        </section>
        <img id="displayGraphic" class="display" src="./whaleTree.jpg"></img>
    </main>
    <script type="text/javascript">
    var triviaGame = {
        htmlDisplayTimer: $("#displayTimer"),
        htmlDisplayQuestion: $("#displayQuestion"),
        htmlDisplayResponses: $("#displayResponses"),
        htmlDisplayQuestion: $("#displayQuestion"),
        htmlRespA: $("#respA"),
        htmlRespB: $("#respB"),
        htmlRespC: $("#respC"),
        htmlRespD: $("#respD"),
        timer: 15,
        timerMax: 15,
        handleTimer: 0,
        answerCorrect: 0,
        answerIncorrect: 0,
        questionNum: 1,
        questionList: [{
            Q: "What is 1 + 1",
            A: "Giant zongo",
            B: "2",
            C: "3",
            D: "4",
            answer: "A"
        }, {
            Q: "What is 2 + 2?",
            A: "1",
            B: "2",
            C: "3",
            D: "4",
            answer: "D"
        }],

        /* console.log(respA.children("#respButtonA"));
        console.log(respA.children([0]));
        console.log(respA.children(1));*/

        startTimer: function() {
            this.handleTimer = setInterval(this.runTimer.bind(this), 1000);
        },

        stopTimer: function() {
            clearInterval(this.handleTimer);
        },

        runTimer: function() {
            if (this.timer <= 0) {
                this.stopTimer;
            };

            this.timer--;
            this.htmlDisplayTimer.text("Time Remaining -> " + this.timer);
        },

        loadQuestion: function() {
            this.htmlDisplayQuestion.text(this.questionList[this.questionNum].Q);
            this.htmlRespA.text("A. " + this.questionList[this.questionNum].A);
            this.htmlRespB.text("B. " + this.questionList[this.questionNum].B);
            this.htmlRespC.text("C. " + this.questionList[this.questionNum].C);
            this.htmlRespD.text("D. " + this.questionList[this.questionNum].D);
            this.startTimer;
        },

        runGame: function() {
            this.loadQuestion;
            this.startTimer;
        },

    };

    triviaGame.runGame();


    //Event handlers
    $(".respBtn").on("click", function() {
        if (this.value == triviaGame.questionList[triviaGame.questionNum].answer) {
            triviaGame.answerCorrect++;
            triviaGame.htmlDisplayQuestion.text("Good job!");
        } else {
            triviaGame.answerIncorrect++;
            triviaGame.htmlDisplayQuestion.text("Wrong answer.  Sorry.");
        };
        triviaGame.stopTimer();
    });
    </script>
</body>

</html>
